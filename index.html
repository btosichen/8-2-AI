<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI å´›èµ·ï¼šæœªä¾†ä¸–ç•Œäº’å‹•å­¸ç¿’</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f2ff;
            --neon-purple: #bc13fe;
            --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .neon-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(188, 19, 254, 0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .neon-card:hover {
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.4);
        }

        .ai-energy-bar {
            height: 12px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .ai-energy-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            width: 0%;
            transition: width 0.5s ease;
        }

        .btn-neon {
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .btn-neon:active {
            transform: scale(0.95);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .wrong-shake {
            animation: shake 0.3s ease-in-out 2;
            border-color: #ff4d4d !important;
        }

        @keyframes glow {
            0% { box-shadow: 0 0 5px var(--neon-blue); }
            50% { box-shadow: 0 0 25px var(--neon-blue); }
            100% { box-shadow: 0 0 5px var(--neon-blue); }
        }

        .correct-glow {
            animation: glow 0.5s ease-in-out;
            border-color: #4ade80 !important;
        }

        .hidden { display: none; }

        .drop-zone {
            min-height: 80px;
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            transition: background 0.3s;
        }

        .drop-zone.active {
            background: rgba(0, 242, 255, 0.1);
            border-color: var(--neon-blue);
        }

        .timer-badge {
            font-variant-numeric: tabular-nums;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- ç™»å…¥é é¢ -->
    <div id="login-screen" class="max-w-md mx-auto neon-card p-8 mt-10">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">ğŸ¤– AI å´›èµ·ï¼šæœªä¾†ä¸–ç•Œ</h1>
        <p class="text-center text-gray-600 mb-8">è«‹è¼¸å…¥è³‡æ–™é–‹å§‹å­¸ç¿’ä¹‹æ—…</p>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">ç­ç´š</label>
                <input type="text" id="user-class" placeholder="ä¾‹å¦‚ï¼š801" class="w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-purple-400">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">åº§è™Ÿ</label>
                <input type="number" id="user-no" placeholder="01" class="w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-purple-400">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">å§“å</label>
                <input type="text" id="user-name" placeholder="ç‹å°æ˜" class="w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-purple-400">
            </div>
            <button onclick="startApp()" class="w-full btn-neon mt-4">é€²å…¥ç³»çµ±</button>
            <button onclick="showAdminLogin()" class="w-full text-xs text-gray-400 hover:text-gray-600 transition">è€å¸«ç®¡ç†å¾Œå°</button>
        </div>
    </div>

    <!-- è€å¸«ç™»å…¥ä»‹é¢ -->
    <div id="admin-login" class="max-w-md mx-auto neon-card p-8 mt-10 hidden">
        <h2 class="text-2xl font-bold mb-4">ç®¡ç†å“¡é©—è­‰</h2>
        <input type="password" id="admin-pass" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" class="w-full p-3 rounded-lg border mb-4">
        <div class="flex gap-2">
            <button onclick="checkAdmin()" class="flex-1 btn-neon">é©—è­‰</button>
            <button onclick="hideAdminLogin()" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg">å–æ¶ˆ</button>
        </div>
    </div>

    <!-- å­¸ç¿’ä¸»ç•«é¢ -->
    <div id="game-container" class="max-w-4xl mx-auto hidden">
        <!-- é ‚éƒ¨è³‡è¨Šåˆ— -->
        <div class="flex flex-wrap justify-between items-center mb-6 bg-white p-4 rounded-xl shadow-sm">
            <div class="flex items-center space-x-4">
                <span class="font-bold text-purple-600" id="display-info"></span>
                <div class="flex flex-col">
                    <span class="text-xs text-gray-500">AI èƒ½é‡å„²å‚™</span>
                    <div class="ai-energy-bar w-32 md:w-64">
                        <div id="energy-fill" class="ai-energy-fill"></div>
                    </div>
                </div>
            </div>
            <div class="flex space-x-4 items-center mt-2 md:mt-0">
                <div class="text-center px-4 py-1 bg-blue-50 rounded-full">
                    <span class="text-xs block text-blue-500">ç¸½è€—æ™‚</span>
                    <span id="timer-text" class="font-bold timer-badge">0s</span>
                </div>
                <div class="text-center px-4 py-1 bg-purple-50 rounded-full">
                    <span class="text-xs block text-purple-500">åˆ†æ•¸</span>
                    <span id="score-text" class="font-bold">0</span>
                </div>
            </div>
        </div>

        <!-- é—œå¡å°è¦½ -->
        <div id="level-nav" class="grid grid-cols-3 gap-4 mb-8">
            <button id="nav-1" class="p-4 rounded-xl bg-white shadow font-bold text-gray-400 border-b-4 border-gray-200" disabled>LEVEL 1</button>
            <button id="nav-2" class="p-4 rounded-xl bg-white shadow font-bold text-gray-400 border-b-4 border-gray-200" disabled>LEVEL 2</button>
            <button id="nav-3" class="p-4 rounded-xl bg-white shadow font-bold text-gray-400 border-b-4 border-gray-200" disabled>LEVEL 3</button>
        </div>

        <!-- é¡Œç›®å€åŸŸ -->
        <div id="question-box" class="neon-card p-6 md:p-10 min-h-[400px] flex flex-col relative">
            <!-- æ¶ç­”å€’æ•¸è¨ˆæ™‚å™¨ -->
            <div id="rush-timer" class="absolute top-4 right-4 w-12 h-12 rounded-full border-4 border-orange-400 flex items-center justify-center font-bold text-orange-500 hidden">
                10
            </div>

            <div id="content-area">
                <!-- å…§å®¹å‹•æ…‹æ’å…¥ -->
            </div>
        </div>
    </div>

    <!-- çµç®—é é¢ -->
    <div id="result-screen" class="max-w-md mx-auto neon-card p-8 mt-10 text-center hidden">
        <div class="text-6xl mb-4">ğŸ†</div>
        <h2 class="text-3xl font-bold mb-2">å­¸ç¿’å®Œæˆï¼</h2>
        <p class="text-gray-600 mb-6">æˆç¸¾å·²ä¸Šå‚³è‡³é›²ç«¯ç³»çµ±</p>
        <div class="bg-gray-50 p-6 rounded-xl space-y-2 mb-8">
            <div class="flex justify-between"><span>ç­”å°é¡Œæ•¸ï¼š</span><span id="final-correct" class="font-bold text-blue-600"></span></div>
            <div class="flex justify-between"><span>ç¸½èŠ±è²»æ™‚é–“ï¼š</span><span id="final-time" class="font-bold text-blue-600"></span></div>
        </div>
        <button onclick="location.reload()" class="w-full btn-neon">é‡æ–°æŒ‘æˆ°</button>
    </div>

    <script>
        /** * åŠ å¯†å·¥å…· (ç°¡å–®æ··æ·†)
         * æ•™å¸«å¯†ç¢¼ 0426
         * Base64(0426) = "MDQyNg=="
         */
        const _S = "MDQyNg=="; 
        const _A = (s) => btoa(encodeURIComponent(s));
        const _B = (s) => decodeURIComponent(atob(s));

        // é¡Œç›®èˆ‡ç­”æ¡ˆåŠ å¯†å„²å­˜
        const levelsData = [
            {
                level: 1,
                title: "LEVEL 1ï¼šAI åŸºç¤æ¦‚å¿µ",
                questions: [
                    { type: 'tf', q: "AI (äººå·¥æ™ºæ…§) çš„ç›®æ¨™æ˜¯è®“æ©Ÿå™¨æ¨¡æ“¬äººé¡çš„æ€è€ƒèˆ‡å­¸ç¿’èƒ½åŠ›ã€‚", a: "VHJ1ZQ==" }, // True
                    { type: 'tf', q: "ç›®å‰æ‰€æœ‰çš„ AI éƒ½å·²ç¶“æ“æœ‰åƒäººé¡ä¸€æ¨£çš„è‡ªæˆ‘æ„è­˜èˆ‡æƒ…æ„Ÿã€‚", a: "RmFsc2U=" }, // False
                    { type: 'drag', q: "è«‹åˆ†é¡ä»¥ä¸‹æŠ€è¡“æ˜¯å¦å±¬æ–¼ AI æŠ€è¡“ï¼š", items: [
                        { t: "ChatGPT", cat: "YWk=" }, // ai
                        { t: "å‚³çµ±æ´—è¡£æ©Ÿå®šæ™‚", cat: "bm90YWk=" }, // notai
                        { t: "è‡ªå‹•é§•é§›å°èˆª", cat: "YWk=" },
                        { t: "è¨ˆç®—æ©ŸåŠ æ¸›é‹ç®—", cat: "bm90YWk=" }
                    ]}
                ]
            },
            {
                level: 2,
                title: "LEVEL 2ï¼šAI ç”Ÿæ´»æ‡‰ç”¨",
                questions: [
                    { type: 'choice', q: "ç•¶ä½ ä½¿ç”¨ä¸²æµå¹³å°ï¼ˆå¦‚ Netflixï¼‰æ™‚ï¼Œç³»çµ±æ¨è–¦ä½ å¯èƒ½å–œæ­¡çš„å½±ç‰‡ï¼Œé€™ä¸»è¦æ˜¯æ‡‰ç”¨äº†å“ªç¨®æŠ€è¡“ï¼Ÿ", options: ["é›²ç«¯å„²å­˜", "å€å¡Šéˆ", "æ©Ÿå™¨å­¸ç¿’æ¨è–¦æ¼”ç®—æ³•", "æ“´å¢å¯¦å¢ƒ"], a: "æ©Ÿå™¨å­¸ç¿’æ¨è–¦æ¼”ç®—æ³•" },
                    { type: 'match', q: "å°‡ AI æ‡‰ç”¨èˆ‡å…¶åŠŸèƒ½é…å°ï¼š", pairs: [
                        { l: "äººè‡‰è¾¨è­˜", r: "èº«åˆ†é©—è­‰", id: 1 },
                        { l: "èªéŸ³åŠ©ç†", r: "è‡ªç„¶èªè¨€è™•ç†", id: 2 },
                        { l: "é†«ç™‚ AI", r: "å½±åƒè¼”åŠ©è¨ºæ–·", id: 3 }
                    ]}
                ]
            },
            {
                level: 3,
                title: "LEVEL 3ï¼šDeepfake èˆ‡æ³•å¾‹",
                questions: [
                    { type: 'tf', q: "Deepfake (æ·±å½æŠ€è¡“) åªèƒ½ç”¨ä¾†è£½ä½œæç¬‘å½±ç‰‡ï¼Œä¸æœƒé€ æˆæ³•å¾‹å•é¡Œã€‚", a: "RmFsc2U=" },
                    { type: 'choice', q: "å¦‚æœæœ‰äººåˆ©ç”¨ AI æ›è‡‰æŠ€è¡“è£½ä½œä»–äººè‰²æƒ…å½±ç‰‡ä¸¦å‚³æ’­ï¼Œé€™åœ¨å°ç£æœƒè§¸çŠ¯ä»€éº¼æ³•å¾‹ï¼Ÿ", options: ["å¦¨å®³ç§˜å¯†ç½ª", "å€‹äººè³‡æ–™ä¿è­·æ³•", "å¦¨å®³æ€§éš±ç§åŠä¸é›…è¨Šè™Ÿç½ª", "ä»¥ä¸Šçš†æ˜¯"], a: "ä»¥ä¸Šçš†æ˜¯" },
                    { type: 'rush', q: "ã€æ¶ç­”ã€‘çœ‹åˆ°éå¸¸æ“¬çœŸçš„æ”¿æ²»äººç‰©æ¼”è¬›å½±ç‰‡ï¼Œæ‡‰å…ˆåšä»€éº¼ï¼Ÿ", options: ["ç«‹åˆ»åˆ†äº«", "æŸ¥è­‰å¤šæ–¹ä¾†æºèˆ‡äº‹å¯¦", "æª¢èˆ‰å½±ç‰‡", "ä¸‹è¼‰ä¿å­˜"], a: "æŸ¥è­‰å¤šæ–¹ä¾†æºèˆ‡äº‹å¯¦" }
                ]
            }
        ];

        let currentUser = { class: '', no: '', name: '' };
        let currentLevel = 0;
        let currentQIdx = 0;
        let score = 0;
        let totalCorrect = 0;
        let totalTime = 0;
        let gameTimer;
        let rushTimerInterval;
        let gasUrl = "https://script.google.com/macros/s/AKfycbxo_4S1pAnTq7F83U9p6fP_A-gX9R-h9Hh9h9h9h/exec"; // é ç•™ä½ç½®ï¼ŒGASç¨‹å¼ç¢¼åœ¨ä¸‹æ–¹

        // åˆå§‹åŒ–
        function startApp() {
            currentUser.class = document.getElementById('user-class').value;
            currentUser.no = document.getElementById('user-no').value;
            currentUser.name = document.getElementById('user-name').value;

            if (!currentUser.class || !currentUser.no || !currentUser.name) {
                alert("è«‹å¡«å¯«å®Œæ•´è³‡è¨Šï¼");
                return;
            }

            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('game-container').classList.remove('hidden');
            document.getElementById('display-info').innerText = `${currentUser.class} ${currentUser.no}è™Ÿ ${currentUser.name}`;
            
            startGlobalTimer();
            loadLevel(0);
        }

        function startGlobalTimer() {
            gameTimer = setInterval(() => {
                totalTime++;
                document.getElementById('timer-text').innerText = totalTime + 's';
            }, 1000);
        }

        function loadLevel(idx) {
            currentLevel = idx;
            currentQIdx = 0;
            updateNav();
            loadQuestion();
        }

        function updateNav() {
            for(let i=1; i<=3; i++) {
                const nav = document.getElementById(`nav-${i}`);
                if (i-1 === currentLevel) {
                    nav.classList.add('text-purple-600', 'border-purple-400');
                    nav.classList.remove('text-gray-400');
                } else if (i-1 < currentLevel) {
                    nav.classList.add('text-green-500', 'border-green-300');
                    nav.classList.remove('text-purple-600', 'text-gray-400');
                }
            }
            const progress = (currentLevel / 3) * 100 + ((currentQIdx / levelsData[currentLevel].questions.length) * 33);
            document.getElementById('energy-fill').style.width = progress + '%';
        }

        function loadQuestion() {
            const level = levelsData[currentLevel];
            const q = level.questions[currentQIdx];
            const area = document.getElementById('content-area');
            const box = document.getElementById('question-box');
            const rushTimerEl = document.getElementById('rush-timer');
            
            box.classList.remove('correct-glow', 'wrong-shake');
            rushTimerEl.classList.add('hidden');
            clearInterval(rushTimerInterval);

            let html = `<h2 class="text-xl font-bold mb-4 text-gray-700">${level.title} - ç¬¬ ${currentQIdx + 1} é¡Œ</h2>`;
            html += `<p class="text-lg mb-6">${q.q}</p>`;

            if (q.type === 'tf') {
                html += `
                    <div class="flex space-x-4">
                        <button onclick="checkAnswer('True')" class="flex-1 py-4 rounded-xl border-2 hover:bg-blue-50 transition font-bold text-2xl">â­• æ˜¯</button>
                        <button onclick="checkAnswer('False')" class="flex-1 py-4 rounded-xl border-2 hover:bg-red-50 transition font-bold text-2xl">âŒ å¦</button>
                    </div>
                `;
            } else if (q.type === 'choice' || q.type === 'rush') {
                if (q.type === 'rush') {
                    rushTimerEl.classList.remove('hidden');
                    startRushTimer(10);
                }
                html += `<div class="grid grid-cols-1 gap-3">`;
                q.options.forEach(opt => {
                    html += `<button onclick="checkAnswer('${opt}')" class="w-full py-3 px-4 text-left rounded-lg border-2 hover:border-purple-300 hover:bg-purple-50 transition">${opt}</button>`;
                });
                html += `</div>`;
            } else if (q.type === 'drag') {
                html += `
                    <div class="space-y-4">
                        <div class="flex flex-wrap gap-2 mb-4" id="drag-items">
                            ${q.items.map((it, i) => `<div draggable="true" ondragstart="onDragStart(event, ${i})" class="bg-white border-2 border-blue-200 p-2 rounded cursor-move shadow-sm">${it.t}</div>`).join('')}
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="drop-zone p-4" ondragover="onDragOver(event)" ondrop="onDrop(event, 'YWk=')"><p class="text-xs text-gray-400 mb-2">AI æŠ€è¡“</p></div>
                            <div class="drop-zone p-4" ondragover="onDragOver(event)" ondrop="onDrop(event, 'bm90YWk=')"><p class="text-xs text-gray-400 mb-2">é AI æŠ€è¡“</p></div>
                        </div>
                        <button onclick="checkDragAnswer()" class="btn-neon w-full mt-4">ç¢ºèªé€å‡º</button>
                    </div>
                `;
            } else if (q.type === 'match') {
                // é…å°ç°¡å–®åŒ–ï¼šå…©æ’é»æ“Š
                html += `<p class="text-sm text-gray-400 mb-4">é»æ“Šå·¦å´å†é»æ“Šå³å´ä¾†é…å°</p>
                    <div class="flex justify-between space-x-4">
                        <div class="flex-1 space-y-2">
                            ${q.pairs.map(p => `<button id="l-${p.id}" onclick="selectMatch('l', ${p.id})" class="w-full p-2 border rounded bg-white">${p.l}</button>`).join('')}
                        </div>
                        <div class="flex-1 space-y-2">
                            ${q.pairs.sort(() => Math.random()-0.5).map(p => `<button id="r-${p.id}" onclick="selectMatch('r', ${p.id})" class="w-full p-2 border rounded bg-white">${p.r}</button>`).join('')}
                        </div>
                    </div>
                    <button onclick="checkMatchAnswer()" class="btn-neon w-full mt-4">ç¢ºèªé…å°</button>
                `;
            }

            area.innerHTML = html;
        }

        // æ¶ç­”è¨ˆæ™‚
        function startRushTimer(sec) {
            let left = sec;
            const el = document.getElementById('rush-timer');
            el.innerText = left;
            rushTimerInterval = setInterval(() => {
                left--;
                el.innerText = left;
                if (left <= 0) {
                    clearInterval(rushTimerInterval);
                    handleAnswer(false);
                }
            }, 1000);
        }

        // æ‹–æ›³è™•ç†
        let draggedItemIdx = null;
        window.onDragStart = (e, idx) => { draggedItemIdx = idx; };
        window.onDragOver = (e) => { e.preventDefault(); e.currentTarget.classList.add('active'); };
        window.onDrop = (e, cat) => {
            e.preventDefault();
            e.currentTarget.classList.remove('active');
            const level = levelsData[currentLevel];
            const q = level.questions[currentQIdx];
            q.items[draggedItemIdx].userCat = cat;
            const itemEl = document.querySelector(`[ondragstart="onDragStart(event, ${draggedItemIdx})"]`);
            e.currentTarget.appendChild(itemEl);
        };

        function checkDragAnswer() {
            const q = levelsData[currentLevel].questions[currentQIdx];
            const isAllCorrect = q.items.every(it => it.cat === it.userCat);
            handleAnswer(isAllCorrect);
        }

        // é…å°è™•ç†
        let selectedL = null;
        let selectedR = null;
        let userMatches = [];
        window.selectMatch = (side, id) => {
            if(side === 'l') selectedL = id;
            if(side === 'r') selectedR = id;
            if(selectedL && selectedR) {
                userMatches.push({l: selectedL, r: selectedR});
                document.getElementById(`l-${selectedL}`).classList.add('bg-blue-100');
                document.getElementById(`r-${selectedR}`).classList.add('bg-blue-100');
                selectedL = selectedR = null;
            }
        };
        function checkMatchAnswer() {
            const q = levelsData[currentLevel].questions[currentQIdx];
            const correctCount = userMatches.filter(m => m.l === m.r).length;
            handleAnswer(correctCount === q.pairs.length);
            userMatches = [];
        }

        // ä¸€èˆ¬å›ç­”è™•ç†
        function checkAnswer(userAns) {
            clearInterval(rushTimerInterval);
            const q = levelsData[currentLevel].questions[currentQIdx];
            let isCorrect = false;
            if (q.type === 'tf') {
                isCorrect = _A(userAns) === q.a;
            } else {
                isCorrect = userAns === q.a;
            }
            handleAnswer(isCorrect);
        }

        function handleAnswer(isCorrect) {
            const box = document.getElementById('question-box');
            if (isCorrect) {
                box.classList.add('correct-glow');
                score += 10;
                totalCorrect++;
                document.getElementById('score-text').innerText = score;
            } else {
                box.classList.add('wrong-shake');
            }

            setTimeout(() => {
                nextQuestion();
            }, 800);
        }

        function nextQuestion() {
            currentQIdx++;
            if (currentQIdx >= levelsData[currentLevel].questions.length) {
                currentLevel++;
                if (currentLevel >= levelsData.length) {
                    finishGame();
                } else {
                    loadLevel(currentLevel);
                }
            } else {
                updateNav();
                loadQuestion();
            }
        }

        function finishGame() {
            clearInterval(gameTimer);
            document.getElementById('game-container').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            document.getElementById('final-correct').innerText = totalCorrect + " é¡Œ";
            document.getElementById('final-time').innerText = totalTime + " ç§’";
            
            uploadData();
        }

        // è€å¸«åŠŸèƒ½
        function showAdminLogin() { document.getElementById('admin-login').classList.remove('hidden'); }
        function hideAdminLogin() { document.getElementById('admin-login').classList.add('hidden'); }
        function checkAdmin() {
            const pass = document.getElementById('admin-pass').value;
            if (_A(pass) === _S) {
                window.open("https://docs.google.com/spreadsheets/d/19rzBcUZLWQBexhKsqvww-oxjMZbgQBFpqoUdliGvjJM/edit", "_blank");
            } else {
                alert("å¯†ç¢¼éŒ¯èª¤ï¼");
            }
        }

        // ä¸Šå‚³æ•¸æ“šåˆ° GAS
        async function uploadData() {
            const payload = {
                class: currentUser.class,
                no: currentUser.no,
                name: currentUser.name,
                level: "Completed",
                correct: totalCorrect,
                time: totalTime,
                date: new Date().toLocaleString()
            };

            try {
                // ä½¿ç”¨ no-cors æ¨¡å¼ç™¼é€ï¼Œæˆ–ç¢ºä¿ GAS å·²è¨­å®šå¥½ CORS
                await fetch(gasUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    cache: 'no-cache',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                console.log("Data sent to GAS");
            } catch (e) {
                console.error("Upload error", e);
            }
        }
    </script>
</body>
</html>
